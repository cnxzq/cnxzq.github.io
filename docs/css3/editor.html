<!DOCTYPE html>
<html lang="zh-CN" class="sigle">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>html editor</title>
	<link rel="stylesheet" href="../../lib/layout.css">
	<style>
		iframe{
			border: 1px solid #ccc;
		}
	</style>
</head>
<body>
	<div style="height: 100%;" class="flex">
		<div style="padding:8px;">
			<input onclick=test() type=button value=显示 />
			<input onclick=dia() type=button value=弹出显示 />
			<input onclick=trestart() type=button value=清除 />
			<input onclick=about() type=button value=关于 />
			<input onclick=help() type=button value=帮助 />
		</div>
		<div class="flex flex-row flex-item">
			<textarea id="code" style="width:50%" name=tester></textarea>
			<iframe id="iframe" class="flex-item"></iframe>
		</div>
	</div>
	<script>
		var iframe = document.getElementById("iframe");
		var code = document.getElementById("code");
		function render(v){
			iframe.contentDocument.open();
			iframe.contentDocument.clear();
			iframe.contentDocument.write(v);
			iframe.contentDocument.close();
		}

		function trestart() {
			if(script) {
				clear = confirm("确定要清除吗？", '');
				if(clear) {
					document.script.reset();
					document.script.value = "";
				}
			}
		}
		function dia(){
			var testwin = open("", "testwin", "status=no,menubar=yes,toolbar=no");
			testwin.document.open();
			testwin.document.write(code.value);
			testwin.document.close();
		}

		function test() {
			render(code.value);
		}
		function about() {
			alert("HTML代码直接显示出页面来")
		}
		function help() {
			OpenWindow = window.open("", "newwin", "height=220,width=470,toolbar=no,scrollbars=" + scroll + ",menubar=no");
			OpenWindow.document.write("<body bgcolor='white' text='black' alink='blue'vlink='blue' link='blue'><TITLE>帮助信息</TITLE>")
			OpenWindow.document.write("<center>你只要把你想显示的代码放到上页的输入框中，你自己也可以写代码，按显示键就能显示你的页面内容</center><br>")
			OpenWindow.document.write("<center><a href='javascript:close()'>关闭本窗口</a></Center>")
			OpenWindow.document.close()
			self.name = "main"
		}

		window.onload=function(){
		code.value = `<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		.txt{background:#f004}
    </style>
</head>
<body>
	标题：<input id="txt" class="txt" value="test" />
	<input type="button" onclick="showmsg()" value="显示">
	<script>
		function showmsg(){
			alert("msg:"+document.getElementById("txt").value);
		}
	\<\/script\>
</body>
</html>`
		render(code.value);
		}
	</script>
</body>
</html>